<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trackdance | CA Dance and Cheer Competition </title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="sidebar-overlay" id="overlay"></div>
<button class="menu-toggle" id="menuBtn">‚ò∞</button>

<div class="app-container">
    <aside class="sidebar" id="sidebar">
        <button class="close-sidebar" id="closeBtn">‚úï</button>

        <div class="sidebar-header">
            <span class="site-title">trackdance</span>
            <span class="event-subtitle">CA Dance and Cheer Competition</span>
        </div>
        <nav class="nav-menu">
            <a href="#" class="nav-item" data-view="info">Information</a>
            <a href="#" class="nav-item" data-view="schedule">Schedule</a>
            <a href="#" class="nav-item" data-view="placements">Placements</a>
            <a href="#" class="nav-item" data-view="tickets">Tickets</a>
        </nav>
    </aside>

    <main class="content-area">
        <div id="info" class="view">
            <h1>Information</h1>
            <div class="card">
                <p>Welcome to the Cheerpros CA Cheer and Dance Competition. Use the menu to check performance times and final placements.</p>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-icon">üìç</div>
                        <div class="info-text">
                            <strong>Venue Location</strong>
                            <p>Riverside Convention Center</p>
                            <a href="https://www.google.com/maps/search/?api=1&query=3637+5th+St+Riverside+CA+92501" target="_blank" class="address-link">3637 5th St, Riverside, CA 92501</a>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üìÖ</div>
                        <div class="info-text">
                            <strong>Event Date</strong>
                            <p>Saturday, January 17, 2026</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="schedule" class="view">
            <h1>Schedule</h1>

            <div class="advisory-card">
                <div class="advisory-icon">‚ö†Ô∏è</div>
                <div class="advisory-text">
                    <strong>Schedule Advisory</strong>
                    <p>Performance times are approximate. Events may run ahead or experience delays. Please arrive early.</p>
                </div>
            </div>

            <div class="card awards-card">
                <h3 style="margin-top: 0; font-size: 0.9rem; text-transform: uppercase; color: var(--primary);">Awards Timeline</h3>
                <div class="awards-grid">
                    <div class="award-slot">
                        <span>Morning Session</span>
                        <strong>12:00 PM</strong>
                    </div>
                    <div class="award-slot">
                        <span>Afternoon Session</span>
                        <strong>4:36 PM</strong>
                    </div>
                    <div class="award-slot">
                        <span>Evening Session</span>
                        <strong>7:42 PM</strong>
                    </div>
                </div>
            </div>

            <div class="filter-bar card">
                <div class="filter-group">
                    <label>Team</label>
                    <select id="teamSelect">
                        <option value="">All Teams</option>
                        {% for team in teams %}
                        {% if team not in ["OPEN", "BREAK", "AWARDS"] %}<option value="{{ team }}">{{ team }}</option>{% endif %}
                        {% endfor %}
                    </select>
                </div>
                <div class="filter-group">
                    <label>Division</label>
                    <select id="divisionSelect">
                        <option value="">All Divisions</option>
                        {% for division in divisions %}
                        {% if division not in ["OPEN", "BREAK", "AWARDS"] %}<option value="{{ division }}">{{ division }}</option>{% endif %}
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Check-In</th>
                            <th>Time</th>
                            <th>Panel</th>
                            <th>Division</th>
                            <th>Team</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for p in performances %}
                        {% set time_val = p.time %}
                        {% set session_label = "Evening" %}

                        {# Simplified session logic for common competition times #}
                        {% if "AM" in time_val or "12:" in time_val %}
                            {% set session_label = "Morning" %}
                        {% elif "1:" in time_val or "2:" in time_val or "3:" in time_val or "4:" in time_val %}
                            {% set session_label = "Afternoon" %}
                        {% elif "5:" in time_val and "PM" in time_val %}
                            {# Split 5:00 PM hour at 5:30 #}
                            {% if "5:0" in time_val or "5:1" in time_val or "5:2" in time_val %}
                                {% set session_label = "Afternoon" %}
                            {% endif %}
                        {% endif %}

                        <tr data-team="{{ p.team }}" data-division="{{ p.division }}">
                            <td data-label="Session"><span class="session-tag {{ session_label|lower }}">{{ session_label }}</span></td>
                            <td data-label="Check-In" class="time-checkin">{{ p.checkin }}</td>
                            <td data-label="Time" class="time-main"><strong>{{ p.time }}</strong></td>
                            <td data-label="Panel">{{ p.stage }}</td>
                            <td data-label="Division">{{ p.division }}</td>
                            <td data-label="Team"><strong>{{ p.team }}</strong></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <div id="placements" class="view">
            <h1>Placements</h1>
            {% for p in placements %}
            {% if p.division not in ["BREAK", "AWARDS", "OPEN"] %}
            <div class="division-block">
                <button class="division-toggle">{{ p.division }} <span>+</span></button>
                <div class="division-results">
                    <p style="color: var(--text-muted); font-style: italic;">Results pending...</p>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>

        <div id="tickets" class="view">
            <h1>Tickets</h1>
            <div class="card ticket-card">
                <div style="text-align: center; padding: 10px 0;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">üéüÔ∏è</div>
                    <h2 style="font-weight: 900; margin-bottom: 5px; text-transform: uppercase;">General Admission</h2>
                    <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 20px;">CHEERpros 2026 CALIFORNIA CHAMPIONSHIPS</p>
                    <div class="price-box">
                        <span class="price-label">All-In Price (Fees Included)</span>
                        <span class="price-value">$22.75</span>
                    </div>
                    <a href="https://aftontickets.com/CHEERprosCALICHAMPS26" target="_blank" class="buy-btn">Get Tickets Now</a>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="/static/script.js"></script>
</body>
</html>